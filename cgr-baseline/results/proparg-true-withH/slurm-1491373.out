
    [1;36mbriling[0m has [1;35m5[0m jobs: [1;32m5[0m running and [1;33m0[0m pending

True
Command line
python ../../src/cgr.py -p --true --withH
Args
{'activation': 'ReLU',
 'adding_h': False,
 'aggregation': 'mean',
 'aggregation_norm': 100,
 'atom_descriptor_scaling': True,
 'atom_descriptors': None,
 'atom_descriptors_path': None,
 'atom_descriptors_size': 0,
 'atom_features_size': 0,
 'atom_messages': False,
 'batch_size': 50,
 'bias': False,
 'bias_solvent': False,
 'bond_feature_scaling': True,
 'bond_features_path': None,
 'bond_features_size': 0,
 'cache_cutoff': 10000,
 'checkpoint_dir': None,
 'checkpoint_frzn': None,
 'checkpoint_path': None,
 'checkpoint_paths': None,
 'class_balance': False,
 'config_path': None,
 'crossval_index_dir': None,
 'crossval_index_file': None,
 'crossval_index_sets': None,
 'cuda': True,
 'data_path': '../../csv/proparg-fixarom.csv',
 'data_weights_path': None,
 'dataset_type': 'regression',
 'depth': 3,
 'depth_solvent': 3,
 'device': device(type='cuda'),
 'dropout': 0.05,
 'empty_cache': False,
 'ensemble_size': 1,
 'epochs': 300,
 'evidential_regularization': 0,
 'explicit_h': True,
 'extra_metrics': [],
 'features_generator': None,
 'features_only': False,
 'features_path': None,
 'features_scaling': True,
 'features_size': None,
 'ffn_hidden_size': 300,
 'ffn_num_layers': 2,
 'final_lr': 0.0001,
 'folds_file': None,
 'freeze_first_only': False,
 'frzn_ffn_layers': 0,
 'gpu': None,
 'grad_clip': None,
 'hidden_size': 300,
 'hidden_size_solvent': 300,
 'ignore_columns': None,
 'init_lr': 0.0001,
 'log_frequency': 10,
 'loss_function': 'mse',
 'max_data_size': None,
 'max_lr': 0.001,
 'metric': 'mae',
 'metrics': ['mae'],
 'minimize_score': True,
 'mpn_shared': False,
 'multiclass_num_classes': 3,
 'no_atom_descriptor_scaling': False,
 'no_bond_features_scaling': False,
 'no_cache_mol': False,
 'no_cuda': False,
 'no_features_scaling': False,
 'num_folds': 10,
 'num_lrs': 1,
 'num_tasks': 1,
 'num_workers': 8,
 'number_of_molecules': 1,
 'overwrite_default_atom_features': False,
 'overwrite_default_bond_features': False,
 'phase_features_path': None,
 'pytorch_seed': 0,
 'quiet': False,
 'reaction': True,
 'reaction_mode': 'reac_diff',
 'reaction_solvent': False,
 'resume_experiment': False,
 'save_dir': './',
 'save_preds': False,
 'save_smiles_splits': False,
 'seed': 0,
 'separate_test_atom_descriptors_path': None,
 'separate_test_bond_features_path': None,
 'separate_test_features_path': None,
 'separate_test_path': None,
 'separate_test_phase_features_path': None,
 'separate_val_atom_descriptors_path': None,
 'separate_val_bond_features_path': None,
 'separate_val_features_path': None,
 'separate_val_path': None,
 'separate_val_phase_features_path': None,
 'show_individual_scores': False,
 'smiles_columns': ['rxn_smiles_mapped'],
 'spectra_activation': 'exp',
 'spectra_phase_mask_path': None,
 'spectra_target_floor': 1e-08,
 'split_key_molecule': 0,
 'split_sizes': [0.9, 0.05, 0.05],
 'split_type': 'random',
 'target_columns': ['Eafw'],
 'target_weights': None,
 'task_names': ['Eafw'],
 'test': False,
 'test_fold_index': None,
 'train_data_size': None,
 'undirected': False,
 'use_input_features': False,
 'val_fold_index': None,
 'warmup_epochs': 2.0}
Setting molecule featurization parameters to default.
Loading data
0it [00:00, ?it/s]753it [00:00, 36215.84it/s]
  0%|          | 0/753 [00:00<?, ?it/s]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 753/753 [00:00<00:00, 249491.34it/s]
  0%|          | 0/753 [00:00<?, ?it/s][01:27:35] Explicit valence for atom # 0 Si, 8, is greater than permitted
Traceback (most recent call last):
  File "../../src/cgr.py", line 83, in <module>
    mean_score, std_score = chemprop.train.cross_validate(args=args_chemprop, train_func=chemprop.train.run_training)
  File "/home/briling/SOFT/miniconda3/envs/chemprop-patched/lib/python3.8/site-packages/chemprop/utils.py", line 538, in wrap
    result = func(*args, **kwargs)
  File "/home/briling/SOFT/miniconda3/envs/chemprop-patched/lib/python3.8/site-packages/chemprop/train/cross_validate.py", line 74, in cross_validate
    data = get_data(
  File "/home/briling/SOFT/miniconda3/envs/chemprop-patched/lib/python3.8/site-packages/chemprop/data/utils.py", line 432, in get_data
    data = filter_invalid_smiles(data)
  File "/home/briling/SOFT/miniconda3/envs/chemprop-patched/lib/python3.8/site-packages/chemprop/data/utils.py", line 167, in filter_invalid_smiles
    return MoleculeDataset([datapoint for datapoint in tqdm(data)
  File "/home/briling/SOFT/miniconda3/envs/chemprop-patched/lib/python3.8/site-packages/chemprop/data/utils.py", line 168, in <listcomp>
    if all(s != '' for s in datapoint.smiles) and all(m is not None for m in datapoint.mol)
  File "/home/briling/SOFT/miniconda3/envs/chemprop-patched/lib/python3.8/site-packages/chemprop/data/data.py", line 162, in mol
    mol = make_mols(self.smiles, self.is_reaction_list, self.is_explicit_h_list, self.is_adding_hs_list)
  File "/home/briling/SOFT/miniconda3/envs/chemprop-patched/lib/python3.8/site-packages/chemprop/data/data.py", line 760, in make_mols
    mol.append(SMILES_TO_MOL[s] if s in SMILES_TO_MOL else (make_mol(s.split(">")[0], keep_h, add_h), make_mol(s.split(">")[-1], keep_h, add_h)))
  File "/home/briling/SOFT/miniconda3/envs/chemprop-patched/lib/python3.8/site-packages/chemprop/rdkit.py", line 13, in make_mol
    Chem.SanitizeMol(mol, sanitizeOps = Chem.SanitizeFlags.SANITIZE_ALL^Chem.SanitizeFlags.SANITIZE_ADJUSTHS)
rdkit.Chem.rdchem.AtomValenceException: Explicit valence for atom # 0 Si, 8, is greater than permitted
  0%|          | 0/753 [00:00<?, ?it/s]